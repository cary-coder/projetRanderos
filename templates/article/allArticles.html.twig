{% extends "layout.html.twig" %}
{% block title %}
	Tous les articles
{% endblock
%}
{% block content %}
	<div class="row mt-5">
		<div class="col-md-2 justify-content-center pt-4">
			<h4 class="text-uppercase text-info text-center">Filtres</h4>
			<ul class="list-group">
				{% for categorie in categories %}
					<a class="text-decoration-none" href="{{ path('articles_categorie', { id: categorie.id }) }}">
						<li class="list-group-item btn btn-primary text-center">
							{{ categorie.nom }}
						</li>
					</a>
				{% endfor %}
			</ul>
			<h5 class="text-center">
				<a class="nav-link" href="{{ path('articles_all')}}">Effacer les filtres</a>
			</h5>
		</div>
		<div class="col-md-10 justify-content-center text-center">
			<div class="row d-flex justify-content-center text-center">
				<div class="row my-auto mx-auto align-items-center texte-center" style="height: 70vh">
					<h4>Liste des articles</h4>
					{% for article in articles %}
						<div class="card m-3" style="width: 20rem;">
							<div class="card-body">
								{% if article.images is not null %}
									<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
										<div class="carousel-inner">
											{% for image in article.images %}
												<div {% if loop.index0==0 %} class="carousel-item active" {% else %} class="carousel-item" {% endif %}>
													<img src="{{ asset('photosArticles/' ~ image.name ) }}" class="d-block rounded w-100 vh-60" alt="image">
												</div>
											{% endfor %}
											<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
												<span class="carousel-control-prev-icon" aria-hidden="true"></span>
												<span class="visually-hidden">Previous</span>
											</button>
											<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
												<span class="carousel-control-next-icon" aria-hidden="true"></span>
												<span class="visually-hidden">Next</span>
											</button>
										</div>
									{% endif %}
									<h5 class="card-title text-uppercase text-success">

										{{ article.titre }}</h5>
									<p class="card-text">
										{{ article.contenu| slice(0, 250) }}
									</p>
									<a href="{{ path( 'article_show',{id: article.id} )}}">
										<i class="fa fa-eye mx-2 text-info"></i>
									</a>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			</div>
		</div>

	{% endblock %}
